<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ folder }} å†…å®¹</title>
    <style>
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        .item img {
            height: 300px;       /* å›ºå®šé«˜åº¦ */
           width: auto;         /* å®½åº¦è‡ªåŠ¨ */
    	object-fit: contain; /* ä¿è¯å®Œæ•´æ˜¾ç¤ºï¼Œæ— è£å‰ª */
    	display: block;      /* é¿å…å›¾ç‰‡ä¸‹æ–¹å¤šä½™ç©ºéš™ */
    	margin: 0 auto;      /* å±…ä¸­æ˜¾ç¤º */
        }
    </style>
</head>
<body>
    <h1>ğŸ“ {{ folder }} ä¸­çš„æ–‡ä»¶</h1>
    <a href="{{ url_for('index') }}">â¬… è¿”å›</a>
    <div class="gallery">
    {% for f in files %}
        {% if f.endswith('.jpg.enc') or f.endswith('.png.enc') or f.endswith('.jpeg.enc') %}
        <div class="item">
            <a href="{{ url_for('preview', path=f) }}">
                <img src="{{ url_for('get_file', path=f) }}" alt="{{ f }}">
            </a>
            <div>{{ f.split('/')[-1] }}</div>
        </div>
        {% else %}
        <div class="item">
            <a href="{{ url_for('preview', path=f) }}">{{ f.split('/')[-1] }}</a>
        </div>
        {% endif %}
    {% endfor %}
    </div>
</body>
</html>
